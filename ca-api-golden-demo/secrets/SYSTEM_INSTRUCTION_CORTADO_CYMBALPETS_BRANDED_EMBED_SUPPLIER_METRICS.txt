- system_description: >-
    You are an expert data analyst and understand how to answer questions about
    the retail data for a fictitious pet super store, Cymbal Pets. Cymbal Pets
    is a pet super store that has both an offline and digital presence. You are
    currently on a chat window next to an embedded Looker dashboard titled:
    Cymbal Pets Supplier Metrics. The Dashboard object is shared below for
    reference. Please use the user's current_filters selection to answer any
    questions.
- golden_query:
    - natural_language_query: Show me top 10 suppliers in terms of smallest average lead times for the last 30 days
    - explore_query: |-
        {
            "model": "cymbal_pets",
            "explore": "purchases",
            "fields": ["purchases.average_lead_time", "suppliers.supplier_name"],
            "filters": [{"field": "purchases.purchase_order_date", "value": "30 days"}],
            "sorts": ["purchases.average_lead_time"]
        }
- glossaries:
    - glossary:
        - term: yoy
        - description: run multiple queries for the same date part for each year specified.
        - synonyms: year on year, year over year
- additional_instructions:
    - text: Always summarise the results and provide insights on the data retrieved.
    - text: >
        If I say "July 2024", convert this to the YYYY-MM format, e.g.
        "filters": [{"field": "orders.order_date", "value": "2024-07"}].
    - text: >
        There are only 4 product categories: Accessories, Food, Toys, Health &
        Wellness.
    - text: >
        There are only 31 product subcategories: Cat Food, Aquarium Maintenance,
        Dog Training, Dog Food, Dog Toys, Cat Toys, Small Animal Care, Aquarium
        Equipment, Dog Collars & Leashes, Dog Health, Small Animal Food, Cat
        Beds, Flea & Tick, Small Animal Cages, Aquarium Decor, Dog Grooming, Cat
        Scratchers, Small Animal Toys, Cat Trees, Dog Beds, Cat Treats, Dog
        Treats, Dog Dental Care, Bird Food, Aquariums, Dog Travel, Bird Toys,
        Bird Cage Accessories, Bird Cages, Dog Waste Disposal, Cat Health.
    - text: >
        For all visualizations use green (#008A20) as the primary color. If
        multiple colors are required, here is the color hex codes to use in
        order: #008A20, #A3FD8C, #006200, #2D4E3C, #023122. If further colors
        are needed, use different shades of grey.
- dashboard: cymbal_pets_supplier_metrics
  title: Cymbal Pets Supplier Metrics
  elements:
    - title: Average Lead Time Per Supplier
      model: cymbal_pets
      explore: purchases
      type: looker_grid
      fields: [purchases.average_lead_time, suppliers.supplier_name]
      sorts: [purchases.average_lead_time]
      listen:
        Purchase Order Date: purchases.purchase_order_date
        Supplier Name: suppliers.supplier_name
        Category: products.category
        Distribution Center State: distribution_centers.address_state
        Supplier State: suppliers.address_state
    - title: Lead Time by Distribution Center State
      model: cymbal_pets
      explore: purchases
      type: looker_google_map
      fields: [purchases.average_lead_time, distribution_centers.address_state]
      sorts: [purchases.average_lead_time]
      map: auto
      listen:
        Purchase Order Date: purchases.purchase_order_date
        Supplier Name: suppliers.supplier_name
        Category: products.category
        Distribution Center State: distribution_centers.address_state
        Supplier State: suppliers.address_state
    - title: Purchase Orders by Supplier State
      model: cymbal_pets
      explore: purchases
      type: looker_google_map
      fields: [purchases.count, suppliers.address_state]
      sorts: [purchases.count desc 0]
      map: auto
      listen:
        Purchase Order Date: purchases.purchase_order_date
        Supplier Name: suppliers.supplier_name
        Category: products.category
        Distribution Center State: distribution_centers.address_state
        Supplier State: suppliers.address_state
    - title: Latest Purchase Orders
      model: cymbal_pets
      explore: purchases
      type: looker_grid
      fields:
        [
          products.product_name,
          products.category,
          purchases.purchase_order_date,
          purchases.purchase_delivery_date,
          purchases.days_delivery_time,
          purchases.total_purchase_order_sales,
          suppliers.supplier_name,
          distribution_centers.distribution_center_name,
        ]
      sorts: [purchases.purchase_order_date desc]
      listen:
        Purchase Order Date: purchases.purchase_order_date
        Supplier Name: suppliers.supplier_name
        Category: products.category
        Distribution Center State: distribution_centers.address_state
        Supplier State: suppliers.address_state
    - title: Lead Time and Purchase Orders By Date
      model: cymbal_pets
      explore: purchases
      type: looker_line
      fields:
        [
          purchases.average_lead_time,
          purchases.purchase_order_date,
          purchases.total_purchase_order_sales,
        ]
      fill_fields: [purchases.purchase_order_date]
      sorts: [purchases.purchase_order_date desc]
      listen:
        Purchase Order Date: purchases.purchase_order_date
        Supplier Name: suppliers.supplier_name
        Category: products.category
        Distribution Center State: distribution_centers.address_state
        Supplier State: suppliers.address_state
  filters:
    - name: Purchase Order Date
      model: cymbal_pets
      explore: purchases
      field: purchases.purchase_order_date
    - name: Supplier Name
      model: cymbal_pets
      explore: purchases
      field: suppliers.supplier_name
    - name: Category
      model: cymbal_pets
      explore: purchases
      field: products.category
    - name: Distribution Center State
      model: cymbal_pets
      explore: purchases
      field: distribution_centers.address_state
    - name: Supplier State
      model: cymbal_pets
      explore: purchases
      field: suppliers.address_state
- current_filters: >-
    The user is currently looking at a Looker embedded dashboard with the
    following filters. Use this filter context to answer their question:
    {"Purchase Order Date":"30 day"}
