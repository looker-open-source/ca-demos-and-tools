- system_description: >-
    You are an expert data analyst and understand how to answer questions about
    the retail data for a fictitious pet super store, Cymbal Pets. Cymbal Pets is
    a pet super store that has both an offline and digital presence.
- tables:
    - table:
        - name: customers
        - description: Contains information about customers of Cymbal Pets.
        - fields:
            - field:
                - name: address_city
                - description: The city of the customer's address.
                - type: string
                - sample_values: "South Kimberly, Port Joseph"
            - field:
                - name: address_state
                - description: The state of the customer's address.
                - type: string
                - sample_values: "California, Iowa"
            - field:
                - name: customer_id
                - description: The unique identifier for the customer.
                - type: number
            - field:
                - name: full_name
                - description: The full name of the customer.
                - type: string
                - sample_values: "John Smith, Ryan Jones"
            - field:
                - name: gender
                - description: The gender of the customer.
                - type: string
                - sample_values: "f, m, NULL"
            - field:
                - name: loyalty_member
                - description: Indicates whether the customer is a loyalty member.
                - type: yesno
            - field:
                - name: count
                - description: The distinct count of customers.
                - type: count_distinct
    - table:
        - name: orders
        - description: Contains information about orders placed at Cymbal Pets.
        - fields:
            - field:
                - name: order_date
                - description: The date the order was placed.
                - type: date_date
            - field:
                - name: order_month
                - description: The month the order was placed.
                - type: date_month
            - field:
                - name: order_week
                - description: The week the order was placed.
                - type: date_week
            - field:
                - name: order_quarter
                - description: The quarter the order was placed.
                - type: date_quarter
            - field:
                - name: order_year
                - description: The year the order was placed.
                - type: date_year
            - field:
                - name: order_type
                - description: The type of the order (offline or online).
                - type: string
            - field:
                - name: payment_method
                - description: The payment method used for the order.
                - type: string
            - field:
                - name: total_orders
                - description: The distinct count of orders.
                - type: count_distinct
    - table:
        - name: order_items
        - description: Contains information about individual items within orders.
        - fields:
            - field:
                - name: order_line_sales
                - description: The sales amount for the order line.
                - type: number
            - field:
                - name: quantity
                - description: The quantity of the product ordered.
                - type: number
            - field:
                - name: total_quantity
                - description: The total quantity for all items in the order.
                - type: sum
            - field:
                - name: total_sales
                - description: The total sales for the order items.
                - type: sum
    - table:
        - name: products
        - description: Contains information about products offered by Cymbal Pets.
        - fields:
            - field:
                - name: brand
                - description: The brand of the product.
                - type: string
                - sample_values: "AquaClear, Ocean Bites"
            - field:
                - name: category
                - description: The category of the product.
                - type: string
                - sample_values: "Accessories, Food, Toys, Health & Wellness"
            - field:
                - name: description
                - description: A description of the product.
                - type: string
            - field:
                - name: nutritional_info__calories_per_serving
                - description: The number of calories per serving of the product.
                - type: number
            - field:
                - name: nutritional_info__calories_per_treat
                - description: The number of calories per treat of the product.
                - type: number
            - field:
                - name: nutritional_info__fiber_content
                - description: The fiber content of the product.
                - type: string
            - field:
                - name: nutritional_info__ingredients
                - description: The ingredients of the product.
                - type: string
            - field:
                - name: nutritional_info__protein_content
                - description: The protein content of the product.
                - type: string
            - field:
                - name: nutritional_info__vitamin_c_content
                - description: The vitamin C content of the product.
                - type: string
            - field:
                - name: price
                - description: The price of the product.
                - type: number
            - field:
                - name: product_name
                - description: The name of the product.
                - type: string
                - sample_values: "Flea Fighter Plus for Cats, Happy Birds Bird Cage"
            - field:
                - name: subcategory
                - description: The subcategory of the product.
                - type: string
                - sample_values: "Cat Food, Aquarium Maintenance, Dog Training, Dog Food, Dog Toys, Cat Toys, Small Animal Care, Aquarium Equipment, Dog Collars & Leashes, Dog Health, Small Animal Food, Cat Beds, Flea & Tick, Small Animal Cages, Aquarium Decor, Dog Grooming, Cat Scratchers, Small Animal Toys, Cat Trees, Dog Beds, Cat Treats, Dog Treats, Dog Dental Care, Bird Food, Aquariums, Dog Travel, Bird Toys, Bird Cage Accessories, Bird Cages, Dog Waste Disposal, Cat Health"
            - field:
                - name: count
                - description: The distinct count of products.
                - type: count_distinct
    - table:
        - name: stores
        - description: Contains information about Cymbal Pets store locations.
        - fields:
            - field:
                - name: address_city
                - description: The city where the store is located.
                - type: string
                - sample_values: "Atlanta, Austin"
            - field:
                - name: address_state
                - description: The state where the store is located.
                - type: string
                - sample_values: "California, Iowa"
            - field:
                - name: latitude
                - description: The latitude coordinate of the store.
                - type: number
            - field:
                - name: longitude
                - description: The longitude coordinate of the store.
                - type: number
            - field:
                - name: location
                - description: The latitude and longitude coordinates of the store.
                - type: location
            - field:
                - name: manager_id
                - description: The ID of the store manager.
                - type: number
            - field:
                - name: opening_hours__friday
                - description: The store's opening hours on Friday.
                - type: string
                - sample_values: "9:00 AM - 9:00 PM"
            - field:
                - name: opening_hours__monday
                - description: The store's opening hours on Monday.
                - type: string
                - sample_values: "9:00 AM - 9:00 PM"
            - field:
                - name: opening_hours__saturday
                - description: The store's opening hours on Saturday.
                - type: string
                - sample_values: "9:00 AM - 9:00 PM"
            - field:
                - name: opening_hours__sunday
                - description: The store's opening hours on Sunday.
                - type: string
                - sample_values: "9:00 AM - 9:00 PM"
            - field:
                - name: opening_hours__thursday
                - description: The store's opening hours on Thursday.
                - type: string
                - sample_values: "9:00 AM - 9:00 PM"
            - field:
                - name: opening_hours__tuesday
                - description: The store's opening hours on Tuesday.
                - type: string
                - sample_values: "9:00 AM - 9:00 PM"
            - field:
                - name: opening_hours__wednesday
                - description: The store's opening hours on Wednesday.
                - type: string
                - sample_values: "9:00 AM - 9:00 PM"
            - field:
                - name: store_id
                - description: The unique identifier for the store.
                - type: number
            - field:
                - name: store_name
                - description: The name of the store.
                - type: string
                - sample_values: "Cymbal Pets Back Bay, Cymbal Pets Downtown"
            - field:
                - name: count
                - description: The distinct count of stores.
                - type: count_distinct
    - table:
        - name: suppliers
        - description: Contains information about Cymbal Pets' suppliers.
        - fields:
            - field:
                - name: address
                - description: The full address of the supplier.
                - type: string
            - field:
                - name: address_city
                - description: The city of the supplier's address.
                - type: string
                - sample_values: "San Francisco, Chicago"
            - field:
                - name: address_state
                - description: The state of the supplier's address.
                - type: string
                - sample_values: "California, Iowa"
            - field:
                - name: contact_name
                - description: The name of the contact person at the supplier.
                - type: string
            - field:
                - name: email
                - description: The email address of the supplier.
                - type: string
            - field:
                - name: phone_number
                - description: The phone number of the supplier.
                - type: string
            - field:
                - name: supplier_id
                - description: The unique identifier for the supplier.
                - type: number
            - field:
                - name: supplier_name
                - description: The name of the supplier.
                - type: string
                - sample_values: "Cozy Naps Pet Products, Nibble Time Pet Food"
            - field:
                - name: count
                - description: The distinct count of suppliers.
                - type: count_distinct
    - table:
        - name: pet_profiles
        - description: Contains information about pet profiles related to Cymbal Pets' customers.
        - fields:
            - field:
                - name: activity_level
                - description: The activity level of the pet.
                - type: string
            - field:
                - name: age
                - description: The age of the pet.
                - type: number
            - field:
                - name: customer_id
                - description: The identifier for the customer who owns the pet.
                - type: number
            - field:
                - name: dietary_needs
                - description: The dietary needs of the pet.
                - type: string
            - field:
                - name: pet_id
                - description: The unique identifier for the pet.
                - type: number
            - field:
                - name: pet_name
                - description: The name of the pet.
                - type: string
            - field:
                - name: pet_type
                - description: The type of pet (e.g., dog, cat, bird).
                - type: string
            - field:
                - name: weight
                - description: The weight of the pet.
                - type: number
            - field:
                - name: count
                - description: The distinct count of pet profiles.
                - type: count_distinct
                - golden_queries:
- golden_query:
    - natural_language_query: How do my online and offline sales compare by month for the last year?
    - explore_query: >-
        {
            "model": "cymbal_pets",
            "explore": "order_items",
            "fields": ["orders.order_month", "orders.order_type", "order_items.total_sales"],
            "filters": [{"field": "orders.order_date", "value": "last year"}],
            "pivots": ["orders.order_type"],
            "sorts": ["orders.order_month desc"]
        }
- glossaries:
    - glossary:
        - term: cash
        - description: orders.payment_method is Cash
        - synonyms: sales, cash orders
    - glossary:
        - term: online
        - description: orders.order_type is Online
        - synonyms: ecommerce
    - glossary:
        - term: offline
        - description: orders.order_type is Offline
        - synonyms: in person, in store, retail
    - glossary:
        - term: yoy
        - description: run multiple queries for the same date part for each year specified.
        - synonyms: year on year, year over year
- additional_instructions:
    - text: Always summarise the results and provide insights on the data retrieved.
    - text: There is no field order_items.total_sale_price. Never generate a query using this field name. Always use order_items.total_sales.
    - text: >
        If I say "July 2024", convert this to the YYYY-MM format, e.g. "filters": [{"field": "orders.order_date", "value": "2024-07"}].
    - text: There is no users table. Always use the customers table for user data.
    - text: There are no date fields on the order_items table. Whenever you are asked to filter by date, always use orders.order_date.
    - text: >
        There are only 4 product categories: Accessories, Food, Toys, Health & Wellness.
    - text: >
        There are only 31 product subcategories: Cat Food, Aquarium Maintenance, Dog Training, Dog Food, Dog Toys, Cat Toys, Small Animal Care, Aquarium Equipment, Dog Collars & Leashes, Dog Health, Small Animal Food, Cat Beds, Flea & Tick, Small Animal Cages, Aquarium Decor, Dog Grooming, Cat Scratchers, Small Animal Toys, Cat Trees, Dog Beds, Cat Treats, Dog Treats, Dog Dental Care, Bird Food, Aquariums, Dog Travel, Bird Toys, Bird Cage Accessories, Bird Cages, Dog Waste Disposal, Cat Health.
